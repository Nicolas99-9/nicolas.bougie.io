<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CitySim: Modeling Urban Behaviors and City Dynamics with LLM-Driven Agent Simulation</title>
    <meta name="description" content="CitySim is a scalable city simulation framework using LLM-powered agents with recursive planning, belief-aware memory, and long-term goal formation for realistic urban behavior modeling.">
    <meta name="keywords" content="CitySim, Urban Simulation, LLM Agents, City Dynamics, Agent-Based Modeling, Nicolas Bougie">
    <meta name="author" content="Nicolas Bougie">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://nicolas99-9.github.io/nicolas.bougie.io/citysim.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="CitySim: LLM-Driven Urban Behavior Simulation">
    <meta property="og:description" content="A scalable framework for simulating human-like urban behavior using LLM-powered agents.">
    <meta property="og:url" content="https://nicolas99-9.github.io/nicolas.bougie.io/citysim.html">
    <meta property="og:image" content="https://nicolas99-9.github.io/nicolas.bougie.io/citysim_overview.png">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #5f6368;
            --accent-color: #4285f4;
            --bg-color: #ffffff;
            --text-color: #202124;
            --border-color: #dadce0;
            --code-bg: #f8f9fa;
            --highlight-bg: #e8f0fe;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans', sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
            font-size: 16px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .title {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .subtitle {
            font-size: 1.1em;
            color: var(--secondary-color);
            font-weight: 400;
            margin-bottom: 25px;
        }

        .venue-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .authors {
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .authors a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .authors a:hover {
            text-decoration: underline;
        }

        .affiliations {
            color: var(--secondary-color);
            font-size: 0.95em;
            margin-bottom: 20px;
        }

        .links {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .link-btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 1em;
            transition: all 0.2s ease;
        }

        .link-btn:hover {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        section {
            margin-bottom: 45px;
        }

        h2 {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        h3 {
            font-size: 1.2em;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 15px;
            margin-top: 25px;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .abstract {
            background-color: var(--code-bg);
            padding: 25px 30px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
        }

        .abstract p {
            margin-bottom: 0;
        }

        .figure {
            text-align: center;
            margin: 30px 0;
        }

        .figure img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .figure-caption {
            margin-top: 15px;
            font-size: 0.9em;
            color: var(--secondary-color);
            text-align: center;
            max-width: 85%;
            margin-left: auto;
            margin-right: auto;
        }

        .figure-caption strong {
            color: var(--text-color);
        }

        .figure-row {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .figure-row img {
            max-width: 45%;
            min-width: 250px;
        }

        .table-container {
            overflow-x: auto;
            margin: 25px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        th, td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--code-bg);
            font-weight: 600;
            color: var(--text-color);
        }

        tr:hover {
            background-color: var(--code-bg);
        }

        .highlight-row {
            background-color: var(--highlight-bg) !important;
        }

        .best {
            font-weight: 700;
            color: var(--primary-color);
        }

        .key-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .result-card {
            background: linear-gradient(135deg, var(--highlight-bg) 0%, var(--code-bg) 100%);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .result-value {
            font-size: 2em;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
        }

        .result-label {
            font-size: 0.9em;
            color: var(--secondary-color);
            margin-top: 5px;
        }

        .bibtex {
            background-color: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            font-family: 'Source Code Pro', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .method-steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .method-step {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .step-number {
            background-color: var(--accent-color);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .step-content h4 {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .step-content p {
            color: var(--secondary-color);
            margin-bottom: 0;
            text-align: left;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid var(--border-color);
            color: var(--secondary-color);
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 1.6em;
            }

            .key-results {
                grid-template-columns: 1fr 1fr;
            }

            th, td {
                padding: 8px 10px;
                font-size: 0.85em;
            }

            .figure-row img {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="venue-badge">EMNLP 2025</div>
            <h1 class="title">CitySim</h1>
            <p class="subtitle">Modeling Urban Behaviors and City Dynamics with Large-Scale LLM-Driven Agent Simulation</p>

            <div class="authors">
                <a href="index.html">Nicolas Bougie</a><sup>1</sup>,
                <a href="#">Narimasa Watanabe</a><sup>1</sup>
            </div>

            <div class="affiliations">
                <sup>1</sup>Woven by Toyota
            </div>

            <div class="links">
                <a href="https://arxiv.org/abs/2506.21805" class="link-btn" target="_blank">[arXiv]</a>
                <a href="#" class="link-btn">[Code]</a>
            </div>
        </header>

        <section>
            <h2>Abstract</h2>
            <div class="abstract">
                <p>
                    Modeling human behavior in urban environments is fundamental for social science, behavioral studies, and urban planning. Prior work often rely on rigid, hand-crafted rules, limiting their ability to simulate nuanced intentions, plans, and adaptive behaviors. Addressing these challenges, we envision an urban simulator (<strong>CitySim</strong>), capitalizing on breakthroughs in human-level intelligence exhibited by large language models. In CitySim, agents generate realistic daily schedules using a recursive value-driven approach that balances mandatory activities, personal habits, and situational factors. To enable long-term, lifelike simulations, we endow agents with beliefs, long-term goals, and spatial memory for navigation. CitySim exhibits closer alignment with real humans than prior work, both at micro and macro levels. Additionally, we conduct insightful experiments by modeling tens of thousands of agents and evaluating their collective behaviors under various real-world scenarios, including estimating crowd density, predicting place popularity, and assessing well-being.
                </p>
            </div>
        </section>

        <section>
            <h2>Key Results</h2>
            <div class="key-results">
                <div class="result-card">
                    <span class="result-value">0.36</span>
                    <span class="result-label">F1-macro Well-being<br>(vs. 0.28 AgentSociety)</span>
                </div>
                <div class="result-card">
                    <span class="result-value">#1</span>
                    <span class="result-label">Pairwise Win Rate<br>Human Preferences</span>
                </div>
                <div class="result-card">
                    <span class="result-value">1,000+</span>
                    <span class="result-label">Agents Simulated<br>Tokyo Metropolitan</span>
                </div>
                <div class="result-card">
                    <span class="result-value">0.45</span>
                    <span class="result-label">POI Popularity<br>Correlation (Spearman)</span>
                </div>
            </div>
        </section>

        <section>
            <h2>Overview</h2>
            <p>
                CitySim is a scalable city simulation framework empowered by LLMs. Agents autonomously generate daily schedules and long-term plans through a recursive, value-driven planning process that balances mandatory activities, personal habits, and situational context. Each agent is equipped with spatial and temporal memories, enabling them to recall past experiences, form and update beliefs about places, and adapt their future decisions accordingly.
            </p>
            <div class="figure">
                <img src="citysim_overview.png" alt="CitySim Framework Overview">
                <p class="figure-caption">
                    <strong>Figure 1:</strong> Overview of CitySim: LLM-based agents with diverse personas plan daily activities, interact socially, and navigate a virtual city environment through Activity Planning, Social Interactions, and Mobility Prediction modules.
                </p>
            </div>
        </section>

        <section>
            <h2>Agent Architecture</h2>
            <p>
                CitySim agents are equipped with advanced cognitive representations for realistic urban behavior:
            </p>

            <div class="method-steps">
                <div class="method-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Persona Module</h4>
                        <p>Includes demographic attributes, spatial anchors (home/work), Big Five personality traits, and empirically-derived habits and preferences from real-world surveys.</p>
                    </div>
                </div>
                <div class="method-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Memory Module</h4>
                        <p>Comprises temporal memory (chronological events), reflective memory (thoughts and attitudes), and spatial memory (beliefs about POIs updated via Kalman filtering).</p>
                    </div>
                </div>
                <div class="method-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Needs & Goals System</h4>
                        <p>Tracks basic needs (hunger, energy, social) and long-term goals that evolve based on experiences. Needs decay over time and influence activity selection.</p>
                    </div>
                </div>
                <div class="method-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Value-Driven Planning</h4>
                        <p>Recursive planning approach that assigns importance scores to activities, balancing mandatory tasks, personal habits, and situational context for realistic schedules.</p>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2>Experiments</h2>

            <h3>Pairwise Human Preferences</h3>
            <p>
                GPT-4o compared anonymized daily routines using naturalness, coherence, and plausibility criteria. CitySim achieves the highest win rate:
            </p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Avg Win Rate</th>
                            <th>vs. AgentSociety</th>
                            <th>vs. MobileCity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>GeAn</td>
                            <td>0.21</td>
                            <td>0.18</td>
                            <td>0.24</td>
                        </tr>
                        <tr>
                            <td>HumanoidAgent</td>
                            <td>0.28</td>
                            <td>0.31</td>
                            <td>0.29</td>
                        </tr>
                        <tr>
                            <td>AgentSociety</td>
                            <td>0.42</td>
                            <td>-</td>
                            <td>0.48</td>
                        </tr>
                        <tr>
                            <td>MobileCity</td>
                            <td>0.39</td>
                            <td>0.52</td>
                            <td>-</td>
                        </tr>
                        <tr class="highlight-row">
                            <td>CitySim</td>
                            <td class="best">0.61</td>
                            <td class="best">0.67</td>
                            <td class="best">0.64</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Well-being Prediction</h3>
            <p>
                We assess CitySim's ability to estimate population well-being using a proprietary survey dataset:
            </p>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>F1-macro</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>GeAn</td>
                            <td>0.19</td>
                        </tr>
                        <tr>
                            <td>AGA</td>
                            <td>0.20</td>
                        </tr>
                        <tr>
                            <td>HumanoidAgent</td>
                            <td>0.22</td>
                        </tr>
                        <tr>
                            <td>MobileCity</td>
                            <td>0.21</td>
                        </tr>
                        <tr>
                            <td>AgentSociety</td>
                            <td>0.28</td>
                        </tr>
                        <tr class="highlight-row">
                            <td>CitySim</td>
                            <td class="best">0.36</td>
                        </tr>
                        <tr>
                            <td>GBDT (Upper Bound)</td>
                            <td>0.45</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Crowd Density Modeling</h3>
            <div class="figure">
                <div class="figure-row">
                    <img src="citysim_heatmap.png" alt="Simulated Crowd Density">
                    <img src="citysim_gt_heatmap.png" alt="Ground Truth Crowd Density">
                </div>
                <p class="figure-caption">
                    <strong>Figure 2:</strong> Comparison of simulated (left) and real-world (right) crowd density heatmaps in Shibuya, Tokyo. CitySim accurately reproduces mobility patterns with highest densities around central transit nodes and major commercial streets.
                </p>
            </div>
        </section>

        <section>
            <h2>Applications</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>Urban Planning:</strong> Simulate crowd flows and identify congestion points</li>
                <li><strong>POI Popularity Prediction:</strong> Forecast which locations will attract visitors</li>
                <li><strong>Well-being Assessment:</strong> Estimate population well-being from simulated behaviors</li>
                <li><strong>Policy Testing:</strong> A/B testing of urban interventions in simulation</li>
                <li><strong>Event Management:</strong> Plan for crowd density during events</li>
            </ul>
        </section>

        <section>
            <h2>BibTeX</h2>
            <div class="bibtex">@inproceedings{bougie2025citysim,
  title={CitySim: Modeling Urban Behaviors and City Dynamics
         with Large-Scale LLM-Driven Agent Simulation},
  author={Bougie, Nicolas and Watanabe, Narimasa},
  booktitle={Proceedings of the 2025 Conference on Empirical
             Methods in Natural Language Processing (EMNLP)},
  year={2025}
}</div>
        </section>

        <footer>
            <p>CitySim - <a href="index.html" style="color: var(--primary-color); text-decoration: none;">Nicolas Bougie</a> - Woven by Toyota</p>
        </footer>
    </div>
</body>
</html>
